---
import { Image } from "astro:assets";
import Layout from "./Layout.astro";
import Sidebar from "../components/Sidebar.astro";
import FormattedDate from "../components/FormattedDate.astro"
import type { CollectionEntry } from "astro:content";
// const { frontmatter, children, image } = Astro.props
type Props = CollectionEntry<"news">["data"];

const { title, author, pubdate, heroImage } = Astro.props;
---

<Layout title={title}>
    <section class="py-12">
        <div class="container px-6 mx-auto w-full h-full overflow-hidden flex flex-col lg:flex-row gap-6">
            <div class="w-full lg:w-3/4 space-y-3 px-2">
                <h1 class="text-2xl md:text-3xl lg:text-3xl font-bold text-green-800">{title}</h1>
                <div class="flex gap-4">
                    <p class="flex gap-1 items-center text-md"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></g></svg>{author}</p>
                    <div class="flex items-center gap-1 text-md">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"><circle cx="12" cy="12" r="10"/><path d="M12 6v6l4 2"/></g></svg>
                        <FormattedDate date={pubdate} />
                    </div>
                </div>
                <div class="relative w-full">
                    {
                        heroImage && (
                            <Image
                                src={heroImage}
                                alt={title}
                                class="w-full rounded-md aspect-video object-cover object-center"
                            />
                        )
                    }
                </div>
                <article class="prose prose-md prose-p:text-justify max-w-none mt-12">
					<slot />
                </article>
            </div>
            <Sidebar/>
        </div>
    </section>
</Layout>
